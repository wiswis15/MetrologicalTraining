include_directories( ${WPEFRAMEWORK_GENERICS_INCLUDE_DIR} )

set (WPEFRAMEWORK_TEST_RPCDEPTHTEST_LIBS 
   ${CMAKE_THREAD_LIBS_INIT}
   ${CMAKE_DL_LIBS}
   generics
   rpc
)

set (WPEFRAMEWORK_TEST_RPCDEPTHTEST_SERVER_SOURCES
   server.cpp
)

set (WPEFRAMEWORK_TEST_RPCDEPTHTEST_CLIENT_SOURCES
   client.cpp
)

add_executable(RPCDepthTestServer ${WPEFRAMEWORK_TEST_RPCDEPTHTEST_SERVER_SOURCES})
target_link_libraries(RPCDepthTestServer ${WPEFRAMEWORK_TEST_RPCDEPTHTEST_LIBS})
install(TARGETS RPCDepthTestServer DESTINATION bin)

add_executable(RPCDepthTestClient ${WPEFRAMEWORK_TEST_RPCDEPTHTEST_CLIENT_SOURCES})
target_link_libraries(RPCDepthTestClient ${WPEFRAMEWORK_TEST_RPCDEPTHTEST_LIBS})
install(TARGETS RPCDepthTestClient DESTINATION bin)

